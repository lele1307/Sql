DROP TABLE Post;
DROP TABLE Topic;
DROP TABLE Forum;
DROP TABLE Person;
CREATE TABLE Person (
    id INTEGER PRIMARY KEY AUTO_INCREMENT ,
    name VARCHAR(100) NOT NULL ,
    username VARCHAR(10) NOT NULL UNIQUE ,
    stuId VARCHAR (10) NULL
);
CREATE TABLE Forum (
    id INTEGER PRIMARY KEY AUTO_INCREMENT ,
    title VARCHAR(100) NOT NULL UNIQUE
);
CREATE TABLE Topic (
    id INTEGER PRIMARY KEY AUTO_INCREMENT ,
    forumId INTEGER NOT NULL ,
    title VARCHAR(100) NOT NULL ,
    CONSTRAINT fk_forum FOREIGN KEY (forumId) REFERENCES Forum(id) ON DELETE CASCADE
);
CREATE TABLE Post (
    id INTEGER PRIMARY KEY AUTO_INCREMENT ,
    topicId INTEGER NOT NULL ,
    author VARCHAR(10) NOT NULL ,
    text TEXT NOT NULL ,
    time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT fk_topic FOREIGN KEY (topicId) REFERENCES Topic(id) ON DELETE CASCADE,
    CONSTRAINT fk_post_person FOREIGN KEY (author) REFERENCES Person(username) ON DELETE CASCADE
);
